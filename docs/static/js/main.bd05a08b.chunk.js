(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{168:function(e,t,n){"use strict";n.r(t);var a=n(2),i=n.n(a),r=n(41),o=n.n(r),l=(n(57),n(42));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(l.a,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},42:function(e,t,n){"use strict";(function(e){var a=n(43),i=n(44),r=n(50),o=n(45),l=n(51),c=n(11),s=n(2),u=n.n(s),m=n(12),d=n.n(m),f=n(8),p=n.n(f),h=(n(60),n(61),n(46)),y=n.n(h),b=n(47),v=n.n(b),E=n(48),w=n.n(E),x=n(49),g=function(t){function n(){var e;return Object(a.a)(this,n),(e=Object(r.a)(this,Object(o.a)(n).call(this))).state={editor:null,blueprint:"",json:{}},p.a.chain([e.onResize,e.onClickConvert]).forEach(function(t){return e[t.name]=t.bind(Object(c.a)(Object(c.a)(e)))}).value(),e}return Object(l.a)(n,t),Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=x.a.create(document.getElementById("editor"),{lineNumbers:"on",roundedSelection:!0,scrollBeyondLastLine:!0,theme:"vs-dark",wordWrap:"on",tabSize:2});this.setState({editor:t}),d()(window).on("resize",this.onResize),setTimeout(function(){e.onResize()})}},{key:"render",value:function(){return u.a.createElement("div",{className:"container-fluid"},u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col col-6 m-0 p-0"},u.a.createElement("div",{className:"row"},u.a.createElement("div",{className:"col col-12"},u.a.createElement("div",{id:"editor",style:{width:"100%"}})))),u.a.createElement("div",{className:"col col-6"},u.a.createElement("div",{className:"row mt-4"},u.a.createElement("div",{className:"col col-12 form-group"},u.a.createElement("button",{className:"btn btn-primary form-control",onClick:this.onClickConvert},"Convert!"))),u.a.createElement("div",{className:"row mt-2"},u.a.createElement("div",{className:"col col-12"},u.a.createElement("canvas",{id:"canvas"}))),u.a.createElement("div",{className:"row mt-2"},u.a.createElement("div",{className:"col col-12"},u.a.createElement("table",{className:"table table-sm table-dark table-hover"},u.a.createElement("thead",null,u.a.createElement("tr",null,u.a.createElement("th",{scope:"col"}),u.a.createElement("th",{scope:"col"},"Name"),u.a.createElement("th",{scope:"col"},"X"),u.a.createElement("th",{scope:"col"},"Y"),u.a.createElement("th",{scope:"col"},"Direction"))),u.a.createElement("tbody",null,this.state.json.blueprint?this.state.json.blueprint.entities.map(function(e,t){return u.a.createElement("tr",{key:t},u.a.createElement("th",{scope:"row"},e.entity_number),u.a.createElement("td",null,e.name),u.a.createElement("td",null,e.position.x),u.a.createElement("td",null,e.position.y),u.a.createElement("td",null,e.direction))}):u.a.createElement("tr",null,u.a.createElement("th",{scope:"row"}),u.a.createElement("td",{colSpan:"5"},"Empty.")))))))))}},{key:"onResize",value:function(){var e=d()(window).width()/2,t=d()(window).height();this.state.editor.layout({width:e,height:t})}},{key:"onClickConvert",value:function(){var e=this,t=this.state.editor.getValue(),n=this.blueprintToObject(t);this.state.editor.setValue(v()(JSON.stringify(n),{indent_size:2})),this.setState({object:n});var a=p.a.minBy(n.blueprint.entities,function(e){return e.position.x}).position.x,i=p.a.minBy(n.blueprint.entities,function(e){return e.position.y}).position.y,r=p.a.maxBy(n.blueprint.entities,function(e){return e.position.x}).position.x,o=p.a.maxBy(n.blueprint.entities,function(e){return e.position.y}).position.y,l=r-a,c=o-i,s=10,u=document.getElementById("canvas");d()(u).attr({width:l*s,height:c*s}),setTimeout(function(){var t=u.getContext("2d");p.a.forEach(n.blueprint.entities,function(n){var r=n.position.x-a,o=n.position.y-i,l=e.entitySize(n.name,n.direction),c=w()(n.name).toString();t.fillStyle="#".concat(c.substring(0,6)),t.fillRect(r*s,o*s,l.x*s,l.y*s),t.beginPath(),t.strokeStyle="#".concat(c.substring(6,12)),t.lineWidth=1,t.rect(r*s,o*s,l.x*s,l.y*s),t.stroke(),t.closePath()})},1e3)}},{key:"blueprintToObject",value:function(t){return JSON.parse(y.a.inflateSync(new e(t.substring(1),"base64")).toString())}},{key:"entitySize",value:function(e,t){if(/^(express-|fast-|)transport-belt$/.test(e))return{x:1,y:1};if(/^(express-|fast-|)underground-belt$/.test(e))return{x:1,y:1};if(/^(express-|fast-|)splitter$/.test(e)){if(2===t||6===t)return{x:1,y:2};if(4===t)return{x:2,y:1}}else{if(/^(fast-|)inserter$/.test(e))return{x:1,y:1};if(/^long-handed-inserter$/.test(e)){if(2===t||6===t)return{x:1,y:2};if(4===t)return{x:2,y:1}}else{if(/^electric-furnace$/.test(e))return{x:3,y:3};if(/^small-electric-pole$/.test(e))return{x:1,y:1};if(/^big-electric-pole$/.test(e))return{x:2,y:2};if(/^assembling-machine-\d+$/.test(e))return{x:3,y:3};if(/^laser-turret$/.test(e))return{x:2,y:2}}}return console.log("error:",e,t),{x:1,y:1}}}]),n}(s.Component);t.a=g}).call(this,n(9).Buffer)},52:function(e,t,n){e.exports=n(168)},57:function(e,t,n){},81:function(e,t){},83:function(e,t){}},[[52,2,3]]]);
//# sourceMappingURL=main.bd05a08b.chunk.js.map